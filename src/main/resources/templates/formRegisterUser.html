<!DOCTYPE html>
<html lang="it" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Book - Registrazione</title>
    <link rel="stylesheet" href="/css/stile.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
</head>

<body class="bg-body-tertiary">
<nav th:replace="fragments/base.html :: navbar"></nav>

<div class="d-flex align-items-center justify-content-center m-4">
    <main class="form-signin bg-white p-5 rounded shadow" style="min-width: 300px; max-width: 400px; width: 100%;">
        <form th:action="@{/register}" method="POST" th:object="${credentials}">
            <h1 class="h3 mb-3 fw-normal text-center">Sign-up</h1>

            <p class="text-danger" th:if="${passwordError}" th:text="${passwordError}"></p>

            <!-- Username -->
            <div class="form-floating mb-2">
                <input class="form-control" th:field="*{username}" id="floatingUsername" placeholder="Username">
                <label for="floatingUsername">Username</label>
                <p th:if="${#fields.hasErrors('username')}" th:errors="*{username}" class="text-danger small"></p>
            </div>

            <!-- Password -->
            <div class="form-floating mb-2">
                <input type="password" name="password" class="form-control" id="floatingPassword" placeholder="Password" required>
                <label for="floatingPassword">Password</label>
            </div>

            <!-- Conferma password -->
            <div class="form-floating mb-2">
                <input type="password" name="confirmPassword" class="form-control" id="floatingConfirm" placeholder="Conferma Password" required>
                <label for="floatingConfirm">Conferma Password</label>
            </div>

            <!-- USER fields -->
            <div th:object="${user}">
                <!-- Nome -->
                <div class="form-floating mb-2">
                    <input type="text" th:field="*{name}" class="form-control" id="floatingName" placeholder="Nome" required>
                    <label for="floatingName">Nome</label>
                    <p th:if="${#fields.hasErrors('name')}" th:errors="*{name}" class="text-danger small"></p>
                </div>

                <!-- Cognome -->
                <div class="form-floating mb-2">
                    <input type="text" th:field="*{surname}" class="form-control" id="floatingSurname" placeholder="Cognome" required>
                    <label for="floatingSurname">Cognome</label>
                    <p th:if="${#fields.hasErrors('surname')}" th:errors="*{surname}" class="text-danger small"></p>
                </div>

                <!-- Email -->
                <div class="form-floating mb-2">
                    <input type="email" th:field="*{email}" class="form-control" id="floatingEmail" placeholder="Email" required>
                    <label for="floatingEmail">Email</label>
                    <p th:if="${#fields.hasErrors('email')}" th:errors="*{email}" class="text-danger small"></p>
                </div>
            </div>

            <!-- Submit -->
            <button class="btn btn-primary w-100 py-2" type="submit">Registrati</button>
            <p class="mt-5 mb-3 text-muted text-center">Â© SiwBooks Enterprise</p>
        </form>
    </main>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
        crossorigin="anonymous"></script>
</body>
</html>
